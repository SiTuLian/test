(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a7ef61e"],{"0a4f":function(t,e,n){"use strict";var i=n("2aa5"),a=n.n(i);a.a},2297:function(t,e,n){},"2aa5":function(t,e,n){},"2bb8":function(t,e,n){"use strict";var i=n("480d"),a=n.n(i);a.a},"386b":function(t,e,n){var i=n("5ca1"),a=n("79e5"),s=n("be13"),o=/"/g,r=function(t,e,n,i){var a=String(s(t)),r="<"+e;return""!==n&&(r+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),r+">"+a+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(r),i(i.P+i.F*a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},"3ef7":function(t,e,n){},4289:function(t,e,n){"use strict";var i=n("e712"),a=n.n(i);a.a},4596:function(t,e,n){},"480d":function(t,e,n){},"48cf":function(t,e,n){},"513c":function(t,e,n){},"53a4":function(t,e,n){"use strict";var i=n("8eea"),a=n.n(i);a.a},6080:function(t,e,n){"use strict";var i=n("e6e3"),a=n.n(i);a.a},"673e":function(t,e,n){"use strict";n("386b")("sub",(function(t){return function(){return t(this,"sub","","")}}))},"6cea":function(t,e,n){t.exports=n.p+"img/搜索.2660bdf9.svg"},"76bb":function(t,e,n){"use strict";var i=n("3ef7"),a=n.n(i);a.a},"77b8":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("home-nav"),n("tab-control",{attrs:{"bg-color":[151,190,255,1]}},t._l(t.tabName,(function(e,i){return n("tab-control-item",{key:i,class:{active:i===t.currentIndex},on:{tabControlClick:function(e){return t.tabNameClick(i)}}},[t._v("\n    "+t._s(e)+"\n    ")])})),1),n("main-box",{attrs:{margin_left:t.margin_left},on:{mainMove:t.mainMove}},[n("home-main",[n("scroll",{ref:"scrollA",staticClass:"content",attrs:{"pull-up-load":!0},on:{pullingUp:t.loadMore}},[n("music-list-box",t._l(t.dataObj.dataArr,(function(t,e){return n("music-item-box",{key:e},[n("music-list-item",{attrs:{dataObj:t}})],1)})),1)],1)],1),n("home-main",[n("scroll",{staticClass:"content"},[n("music-list-box",t._l(t.categroyList,(function(t,e){return n("categroy-item",{key:e,attrs:{categroyItem:t,itemIndex:e}})})),1)],1)],1),n("home-main",[n("scroll",{staticClass:"content"})],1)],1)],1)},a=[],s=(n("673e"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-control",style:t.bgColorStyle},[t._t("default"),t._t("line")],2)}),o=[],r={name:"tabControl",props:{bgColor:{type:Array,default:function(){return[]}}},computed:{bgColorStyle:function(){return{background:"rgba(".concat(this.bgColor[0],", ").concat(this.bgColor[1],", ").concat(this.bgColor[2],", ").concat(this.bgColor[3],")")}}}},c=r,u=(n("2bb8"),n("2877")),l=Object(u["a"])(c,s,o,!1,null,"30c9c00a",null),m=l.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-control-item",on:{click:t.tabControlClick}},[t._t("default")],2)},h=[],d={name:"tabControlItem",methods:{tabControlClick:function(){this.$emit("tabControlClick")}}},b=d,v=(n("4289"),Object(u["a"])(b,f,h,!1,null,"3d1f4ae0",null)),g=v.exports,p=n("9fb0"),C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-nav"},[i("nav-bar",{attrs:{flexHorizontal:!0,"bg-color":"#97beff"}},[i("div",{staticClass:"nav-left",attrs:{slot:"left"},on:{click:t.menuClick},slot:"left"},[i("img",{staticClass:"nav-img",attrs:{src:n("bbe8"),alt:"菜单"}})]),i("div",{staticClass:"nav-center",attrs:{slot:"center"},slot:"center"},[i("vue-input",{attrs:{message:t.mes},on:{showMessage:t.showMes,hideMessage:t.hideMes}})],1)])],1)},x=[],_=n("39b9"),y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputMessage,expression:"inputMessage"}],staticClass:"vue-input",attrs:{type:"text",placeholder:t.message},domProps:{value:t.inputMessage},on:{focus:t.inputFocus,blur:t.inputBlur,input:function(e){e.target.composing||(t.inputMessage=e.target.value)}}}),i("img",{staticClass:"input-img",class:{transitionStart:t.isTransitionStart,transitionEnd:t.isTransitionEnd},attrs:{src:n("6cea"),alt:"搜索.svg"}})])},I=[],O={name:"vueInput",props:{message:{type:String,default:""}},data:function(){return{isTransitionStart:!0,isTransitionEnd:!1,inputMessage:""}},methods:{inputFocus:function(){this.isTransitionStart=!1,this.isTransitionEnd=!0,this.$emit("showMessage")},inputBlur:function(){this.isTransitionStart=!0,this.isTransitionEnd=!1,this.inputMessage="",this.$emit("hideMessage")}}},$=O,M=(n("0a4f"),Object(u["a"])($,y,I,!1,null,"120ac3d6",null)),j=M.exports,k={name:"homeNav",components:{navBar:_["a"],vueInput:j},data:function(){return{mes:""}},methods:{showMes:function(){this.mes="请输入歌曲名称"},hideMes:function(){this.mes=""},menuClick:function(){this.$bus.$emit("showSideBar")}}},E=k,S=(n("77c8"),Object(u["a"])(E,C,x,!1,null,"19578c9f",null)),L=S.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"main-box",style:t.marginLeftStyle,on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[t._t("default")],2)},N=[],B=(n("c5f6"),{name:"mainBox",props:{margin_left:{type:Number,default:0}},computed:{marginLeftStyle:function(){return{marginLeft:this.margin_left+"%"}}},methods:{touchStart:function(t){this.startX=t.touches[0].pageX},touchMove:function(t){this.currentX=t.touches[0].pageX,this.distanceX=this.currentX-this.startX,this.abs=Math.abs(this.distanceX)},touchEnd:function(t){this.abs>100&&(this.distanceX<0?this.$emit("mainMove",0):this.$emit("mainMove",1))}}}),T=B,X=(n("92d0"),Object(u["a"])(T,w,N,!1,null,"3595f093",null)),A=X.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-main"},[t._t("default")],2)},F=[],P={name:"homeMain"},R=P,U=(n("6080"),Object(u["a"])(R,G,F,!1,null,"62b90bef",null)),z=U.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-list-box"},[t._t("default")],2)},q=[],H={name:"musicListBox"},D=H,K=(n("f585"),Object(u["a"])(D,J,q,!1,null,"90129cfa",null)),Q=K.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-item-box"},[t._t("default")],2)},W=[],Y={name:"musicItemBox"},Z=Y,tt=(n("cf98"),Object(u["a"])(Z,V,W,!1,null,"5a3ca2b2",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-list-item"},[n("div",{ref:"music_id",on:{click:t.categroyItem}},[n("div",{staticClass:"img-box"},[n("img",{attrs:{src:t.dataObj.picUrl,alt:""},on:{load:t.itemImageLoad}})]),n("div",{staticClass:"img-text"},[t._v(t._s(t.dataObj.name))])])])},it=[],at={name:"musicListItem",props:{dataObj:{type:Object,default:function(){return{}}}},methods:{categroyItem:function(){this.$router.push("/music/"+this.dataObj.id)},itemImageLoad:function(){this.$bus.$emit("itemImageLoad")}}},st=at,ot=(n("76bb"),Object(u["a"])(st,nt,it,!1,null,"7615a8e7",null)),rt=ot.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"categroy-item-box"},[n("div",{staticClass:"categroy-item",class:{odd:t.isOdd,even:t.isEven},attrs:{"data-categroy":t.categroyItem.category}},[t._v("\n    "+t._s(t.categroyItem.name)+"\n  ")])])},ut=[],lt={name:"categroyItem",props:{categroyItem:{type:Object,default:function(){return{}}},itemIndex:{type:Number}},computed:{isOdd:function(){return this.itemIndex%2!=0},isEven:function(){return this.itemIndex%2==0}}},mt=lt,ft=(n("fd7a"),Object(u["a"])(mt,ct,ut,!1,null,"41cbfb7a",null)),ht=ft.exports;function dt(t,e){var n=null;return function(){for(var i=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){t.apply(i,s)}),e)}}var bt=n("1bab");function vt(t){return Object(bt["a"])({url:"/personalized",params:{limit:t}})}function gt(){return Object(bt["a"])({url:"/playlist/catlist"})}var pt={name:"home",components:{tabControl:m,tabControlItem:g,Scroll:p["a"],homeNav:L,mainBox:A,homeMain:z,musicListBox:Q,musicItemBox:et,musicListItem:rt,categroyItem:ht},data:function(){return{tabName:["推荐","分类","收藏"],positionLeft:26,currentIndex:0,margin_left:0,dataObj:{dataArr:[],limit:0},categroyList:[]}},created:function(){this.$toast.show("正在请求数据！请耐心等待"),this.methodGetRecommendSongs(),this.methodGetCatlist()},mounted:function(){var t=dt(this.$refs.scrollA.refresh,100);this.$bus.$on("itemImageLoad",(function(){t()}))},methods:{methodGetRecommendSongs:function(){var t=this,e=this.dataObj.limit,n=this.dataObj.limit+=10;vt(n).then((function(n){for(var i=e;i<n.result.length;++i)t.dataObj.dataArr.push(n.result[i]);t.$refs.scrollA.finishPullUp()})).catch((function(e){console.log(e),t.$toast.show("对不起！数据请求失败！")}))},methodGetCatlist:function(){var t=this;gt().then((function(e){t.categroyList=e.sub})).catch((function(t){}))},tabNameClick:function(t){switch(this.currentIndex=t,t){case 0:this.positionLeft=26,this.margin_left=0;break;case 1:this.positionLeft=130,this.margin_left=-100;break;case 2:this.positionLeft=238,this.margin_left=-200;break}},loadMore:function(){this.methodGetRecommendSongs()},mainMove:function(t){0===t&&this.currentIndex<this.tabName.length-1&&(this.currentIndex++,this.tabNameClick(this.currentIndex)),1===t&&this.currentIndex>0&&(this.currentIndex--,this.tabNameClick(this.currentIndex))}}},Ct=pt,xt=(n("53a4"),Object(u["a"])(Ct,i,a,!1,null,"50d6457a",null));e["default"]=xt.exports},"77c8":function(t,e,n){"use strict";var i=n("48cf"),a=n.n(i);a.a},"8eea":function(t,e,n){},"92d0":function(t,e,n){"use strict";var i=n("513c"),a=n.n(i);a.a},b819:function(t,e,n){},bbe8:function(t,e,n){t.exports=n.p+"img/菜单.c247ee8a.svg"},cf98:function(t,e,n){"use strict";var i=n("2297"),a=n.n(i);a.a},e6e3:function(t,e,n){},e712:function(t,e,n){},f585:function(t,e,n){"use strict";var i=n("4596"),a=n.n(i);a.a},fd7a:function(t,e,n){"use strict";var i=n("b819"),a=n.n(i);a.a}}]);
//# sourceMappingURL=chunk-2a7ef61e.6e3427bc.js.map